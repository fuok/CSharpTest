// ------------------------------------------------------------------------------
//  <autogenerated>
//      This code was generated by a tool.
//      Mono Runtime Version: 4.0.30319.1
// 
//      Changes to this file may cause incorrect behavior and will be lost if 
//      the code is regenerated.
//  </autogenerated>
// ------------------------------------------------------------------------------
using System;
namespace CSharpTest
{
	public class ItemTool
	{
		private const String tableName = "itemsTable";
		private const String dbPath="data source=CSharpTest.db";
		private static ItemTool instance;
		private DbAccess db;
		
		static ItemTool ()
		{
			instance = new ItemTool ();
		}
		
		private ItemTool ()
		{
			db = new DbAccess (dbPath);
		}
		
		public static ItemTool getInstance ()
		{
			return instance;
		}
		
		public void CreatTable ()
		{
			//			db = new DbAccess (dbPath);
			db.OpenDB(dbPath);
			//创建数据库表，与字段
			db.CreateTableById (tableName, new string[]{"name","price","seller"}, new string[] {
				"text",
				"int",
				"text"
			});
			db.CloseSqlConnection();
		}
		
		public void Add (Item item)
		{
			db.OpenDB(dbPath);
			//添加数据
			db.InsertIntoSpecific (tableName,new string[]{"name","price","seller"},new string[] {//表名
				"'" + item.Name + "'",
				"'" + item.Price + "'",
				"'" + item.Seller + "'"
			});
			db.CloseSqlConnection();
		}
	}
}

